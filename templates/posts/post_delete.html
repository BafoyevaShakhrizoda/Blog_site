<!-- templates/posts/post_delete.html -->
{% extends 'base.html' %}

{% block title %}Maqolani o'chirish - TechBlog{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <div style="background: white; border-radius: 0.5rem; box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); padding: 2rem;">

        <!-- Warning Icon -->
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <div style="display: inline-block; background-color: #fef2f2; border-radius: 50%; padding: 1rem;">
                <svg style="width: 48px; height: 48px; color: #ef4444;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                </svg>
            </div>
        </div>

        <!-- Title -->
        <h1 style="font-size: 1.875rem; font-weight: bold; text-align: center; margin-bottom: 1rem; color: #1f2937;">
            Maqolani o'chirish
        </h1>

        <!-- Warning Message -->
        <div style="background-color: #fef2f2; border-left: 4px solid #ef4444; padding: 1rem; margin-bottom: 1.5rem; border-radius: 0.375rem;">
            <p style="color: #991b1b; font-weight: 500; margin-bottom: 0.5rem;">
                Diqqat!
            </p>
            <p style="color: #7f1d1d; font-size: 0.875rem;">
                Siz ushbu maqolani butunlay o'chirmoqchisiz. Bu amalni bekor qilib bo'lmaydi.
            </p>
        </div>

        <!-- Post Info -->
        <div style="background-color: #f9fafb; padding: 1.5rem; border-radius: 0.375rem; margin-bottom: 1.5rem;">
            <h2 style="font-size: 1.25rem; font-weight: 600; color: #1f2937; margin-bottom: 0.5rem;">
                {{ post.title }}
            </h2>
            {% if post.image %}
            <img src="{{ post.image.url }}" alt="{{ post.title }}" style="width: 100%; max-height: 200px; object-fit: cover; border-radius: 0.375rem; margin-bottom: 0.75rem;">
            {% endif %}
            <p style="color: #6b7280; font-size: 0.875rem; margin-bottom: 0.5rem;">
                {{ post.excerpt|truncatewords:20 }}
            </p>
            <div style="display: flex; gap: 1rem; font-size: 0.875rem; color: #9ca3af;">
                <span><strong>Muallif:</strong> {{ post.author }}</span>
                <span><strong>Sana:</strong> {{ post.created_at|date:"d.m.Y" }}</span>
            </div>
        </div>

        <!-- Confirmation Question -->
        <p style="text-align: center; font-size: 1.125rem; font-weight: 500; color: #374151; margin-bottom: 1.5rem;">
            Rostdan ham bu maqolani o'chirmoqchimisiz?
        </p>

        <!-- Form -->
        <form method="POST">
            {% csrf_token %}

            <!-- Buttons -->
            <div style="display: flex; gap: 1rem;">
                <a href="{% url 'post_detail' post.id %}" style="flex: 1; background-color: #6b7280; color: white; padding: 0.75rem; font-size: 1rem; font-weight: 600; text-align: center; border-radius: 0.375rem; text-decoration: none; transition: background-color 0.3s;">
                    Yo'q, bekor qilish
                </a>
                <button type="submit" style="flex: 1; background-color: #ef4444; color: white; padding: 0.75rem; font-size: 1rem; font-weight: 600; border: none; border-radius: 0.375rem; cursor: pointer; transition: background-color 0.3s;">
                    Ha, o'chirish
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    button[type="submit"]:hover {
        background-color: #dc2626;
    }

    a[href*="post_detail"]:hover {
        background-color: #4b5563;
    }
</style>
{% endblock %}